# ===========================================
# Try It Now - Production Configuration
# ===========================================
# IMPORTANT: Copy this to .env and fill in secure values
# Generate secrets with: openssl rand -base64 32

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# Server
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_READ_TIMEOUT=30s
SERVER_WRITE_TIMEOUT=30s

# API Authentication (REQUIRED for production)
# Generate with: openssl rand -base64 32
API_KEY=CHANGE_ME_GENERATE_SECURE_KEY

# Trusted proxies (Caddy runs on same host)
TRUSTED_PROXIES=127.0.0.1,::1

# Pool configuration
POOL_TARGET_SIZE=5
POOL_MIN_SIZE=2
POOL_MAX_SIZE=15
POOL_REPLENISH_THRESHOLD=0.5
POOL_REPLENISH_INTERVAL=10s
POOL_DEFAULT_TTL=30m
POOL_MAX_TTL=2h

# Container runtime
# CONTAINER_IMAGE: your containerized application image
CONTAINER_MODE=docker
CONTAINER_IMAGE=prestashop/prestashop-flashlight:9.0.0  # example: replace with your app
CONTAINER_NETWORK=production_demo-net
CONTAINER_PORT_RANGE_START=32000
CONTAINER_PORT_RANGE_END=32999

# Caddy reverse proxy
CADDY_ADMIN_URL=http://localhost:2019
BASE_DOMAIN=demo.yourdomain.com  # your domain for demo subdomains

# Valkey (Redis-compatible)
VALKEY_ADDR=localhost:6379
# Generate with: openssl rand -base64 24
VALKEY_PASSWORD=CHANGE_ME_GENERATE_SECURE_PASSWORD
VALKEY_DB=0

# NATS JetStream
NATS_URL=nats://localhost:4222
NATS_STREAM_NAME=PROVISIONING
NATS_WORKER_COUNT=3

# Shared database (optional, for stateful apps - example values for PrestaShop)
PS_DB_HOST=localhost
PS_DB_PORT=3306
PS_DB_NAME=app_demos
PS_DB_USER=prestashop
# Generate with: openssl rand -base64 24
PS_DB_PASSWORD=CHANGE_ME_GENERATE_SECURE_PASSWORD
PS_DB_ROOT_PASSWORD=CHANGE_ME_GENERATE_SECURE_ROOT_PASSWORD
PS_ADMIN_PATH=admin-demo
PS_DEMO_USER=demo@demo.com
PS_DEMO_PASS=demodemo

# Rate limiting (per IP)
RATE_LIMIT_HOURLY=5
RATE_LIMIT_DAILY=10

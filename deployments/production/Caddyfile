{
	# Enable admin API for dynamic route management
	admin :2019

	# Production: automatic HTTPS via Let's Encrypt
	# TODO: Replace with your email for cert notifications
	email admin@yourdomain.com
}

# Main API endpoint
# TODO: Replace with your domain (must match BASE_DOMAIN in .env)
demo.yourdomain.com {
	# Health check
	handle /health {
		respond "OK" 200
	}

	# API routes - proxy to Go application
	handle /api/* {
		reverse_proxy localhost:8080
	}

	handle /metrics {
		reverse_proxy localhost:8080
	}

	# Default response
	handle {
		respond "Try It Now - Demo Provisioning System" 200
	}
}

# Dynamic demo routes are added via Caddy admin API
# No wildcard needed - each subdomain route is added individually
